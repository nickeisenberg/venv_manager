err_missing_option_value() {
    ${VENVMAN_UTILS_DIR}/messages/err_missing_option_value "$@"
}


err_invalid_option() {
    ${VENVMAN_UTILS_DIR}/messages/err_invalid_option "$@"
}


venvman_command_help_tag() {
    ${VENVMAN_UTILS_DIR}/messages/venvman_command_help_tag "$@"
}


venvman_site_packages() {
    while [ "$#" -gt 0 ]; do
        case $1 in
            -pkg | --package)
                if [ -n "$2" ]; then
                    PKG="$2"
                    shift 2
                else
                    echo "Enter a package for --package"
                    err_missing_option_value "site-packages" "--package"
                    return 1
                fi
                ;;
            -h | --help)
                venvman_command_help_tag "site-packages" \
                    --options \
                        "-pkg, --package <package_name>" \
                        "-h, --help" \
                    --option-descriptions \
                        "Navigate to the directory of a specific installed package." \
                        "Display this help message." \
                    --examples \
                        "venvman site-package" \
                        "venvman site-package -pkg numpy" \
                    --example-descriptions \
                        "Navigate to the site-packages directory of the active virtual environment." \
                        "Navigate to the directory of the installed 'numpy' package."
                shift
                return 0


                echo "Usage:"
                echo "  venvman site-package [options]"
                echo
                echo "Options:"
                echo "  -pkg, --package <package_name>   : "
                echo "  -h, --help                       : Display this help message."
                echo
                echo "Examples:"
                echo "                  : "
                echo "venvman site-package -pkg numpy     : "
                return 0
                ;;
            *)
                err_invalid_option "site-packages" "${1}"
                return 1
                ;;
        esac
    done

    SITE_PACKAGES_DIR=$(pip show pip | grep Location | awk "{print \$2}")
    
    if [ -z "$PKG" ]; then
        cd "$SITE_PACKAGES_DIR"
        unset PKG SITE_PACKAGES_DIR
        return 0
    else
        if ! cd "${SITE_PACKAGES_DIR}/${PKG}"; then
            unset PKG SITE_PACKAGES_DIR
            return 1
        fi
    fi
    unset PKG SITE_PACKAGES_DIR
}
